# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'Nominee_Info.ui'
#
# Created by: PyQt5 UI code generator 5.15.1
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.
import sqlite3

from PyQt5 import QtCore, QtGui, QtWidgets


class Ui_Form(object):
    def setupUi(self, Form):
        Form.setObjectName("Form")
        Form.resize(471, 289)
        Form.setMaximumSize(QtCore.QSize(600, 400))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        Form.setFont(font)
        self.frame = QtWidgets.QFrame(Form)
        self.frame.setGeometry(QtCore.QRect(0, 0, 471, 291))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.frame.setFont(font)
        self.frame.setStyleSheet("background-color: rgb(135, 189, 216);\n"
"background-color: rgb(225, 114, 255);\n"
"background-color: rgb(255, 211, 196);")
        self.frame.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.frame.setFrameShadow(QtWidgets.QFrame.Raised)
        self.frame.setObjectName("frame")
        self.F_code_lbl = QtWidgets.QLabel(self.frame)
        self.F_code_lbl.setGeometry(QtCore.QRect(10, 40, 91, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.F_code_lbl.setFont(font)
        self.F_code_lbl.setObjectName("F_code_lbl")
        self.Nom_info_lbl = QtWidgets.QLabel(self.frame)
        self.Nom_info_lbl.setGeometry(QtCore.QRect(140, 10, 181, 16))
        font = QtGui.QFont()
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.Nom_info_lbl.setFont(font)
        self.Nom_info_lbl.setObjectName("Nom_info_lbl")
        self.Name_lbl = QtWidgets.QLabel(self.frame)
        self.Name_lbl.setGeometry(QtCore.QRect(50, 63, 41, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Name_lbl.setFont(font)
        self.Name_lbl.setObjectName("Name_lbl")
        self.Address_lbl = QtWidgets.QLabel(self.frame)
        self.Address_lbl.setGeometry(QtCore.QRect(30, 86, 61, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Address_lbl.setFont(font)
        self.Address_lbl.setObjectName("Address_lbl")
        self.PhNo_lbl = QtWidgets.QLabel(self.frame)
        self.PhNo_lbl.setGeometry(QtCore.QRect(20, 110, 71, 20))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.PhNo_lbl.setFont(font)
        self.PhNo_lbl.setObjectName("PhNo_lbl")
        self.Relation_lbl = QtWidgets.QLabel(self.frame)
        self.Relation_lbl.setGeometry(QtCore.QRect(26, 140, 61, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Relation_lbl.setFont(font)
        self.Relation_lbl.setObjectName("Relation_lbl")
        self.F_code_txt = QtWidgets.QLineEdit(self.frame)
        self.F_code_txt.setGeometry(QtCore.QRect(100, 40, 81, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.F_code_txt.setFont(font)
        self.F_code_txt.setObjectName("F_code_txt")
        self.Name_ltxt = QtWidgets.QLineEdit(self.frame)
        self.Name_ltxt.setGeometry(QtCore.QRect(100, 65, 201, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Name_ltxt.setFont(font)
        self.Name_ltxt.setObjectName("Name_ltxt")
        self.Address_txt = QtWidgets.QLineEdit(self.frame)
        self.Address_txt.setGeometry(QtCore.QRect(100, 86, 201, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Address_txt.setFont(font)
        self.Address_txt.setObjectName("Address_txt")
        self.PhNo_txt = QtWidgets.QLineEdit(self.frame)
        self.PhNo_txt.setGeometry(QtCore.QRect(100, 110, 141, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.PhNo_txt.setFont(font)
        self.PhNo_txt.setObjectName("PhNo_txt")
        self.Relation_txt = QtWidgets.QLineEdit(self.frame)
        self.Relation_txt.setGeometry(QtCore.QRect(100, 140, 141, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Relation_txt.setFont(font)
        self.Relation_txt.setObjectName("Relation_txt")
        self.listView = QtWidgets.QListView(self.frame)
        self.listView.setGeometry(QtCore.QRect(315, 30, 141, 192))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.listView.setFont(font)
        self.listView.setObjectName("listView")
        self.add_btn = QtWidgets.QPushButton(self.frame)
        self.add_btn.setGeometry(QtCore.QRect(70, 240, 59, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.add_btn.setFont(font)
        self.add_btn.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.add_btn.setObjectName("add_btn")
        self.Save_btn = QtWidgets.QPushButton(self.frame)
        self.Save_btn.setGeometry(QtCore.QRect(200, 240, 51, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Save_btn.setFont(font)
        self.Save_btn.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.Save_btn.setObjectName("Save_btn")
        self.Modify_btn = QtWidgets.QPushButton(self.frame)
        self.Modify_btn.setGeometry(QtCore.QRect(134, 240, 61, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Modify_btn.setFont(font)
        self.Modify_btn.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.Modify_btn.setObjectName("Modify_btn")
        self.Delete_btn = QtWidgets.QPushButton(self.frame)
        self.Delete_btn.setGeometry(QtCore.QRect(256, 240, 61, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Delete_btn.setFont(font)
        self.Delete_btn.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.Delete_btn.setObjectName("Delete_btn")
        self.Exit_btn = QtWidgets.QPushButton(self.frame)
        self.Exit_btn.setGeometry(QtCore.QRect(320, 240, 51, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Exit_btn.setFont(font)
        self.Exit_btn.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.Exit_btn.setObjectName("Exit_btn")

        self.retranslateUi(Form)
        QtCore.QMetaObject.connectSlotsByName(Form)

    def retranslateUi(self, Form):
        _translate = QtCore.QCoreApplication.translate
        Form.setWindowTitle(_translate("Form", "Nominee_Info"))
        self.F_code_lbl.setText(_translate("Form", "Farmer Code:"))
        self.Nom_info_lbl.setText(_translate("Form", "Nominee Information"))
        self.Name_lbl.setText(_translate("Form", "Name:"))
        self.Address_lbl.setText(_translate("Form", "Address:"))
        self.PhNo_lbl.setText(_translate("Form", "Phone No.:"))
        self.Relation_lbl.setText(_translate("Form", "Relation:"))
        self.add_btn.setText(_translate("Form", "Add"))
        self.Save_btn.setText(_translate("Form", "Save"))
        self.Modify_btn.setText(_translate("Form", "Modify"))
        self.Delete_btn.setText(_translate("Form", "Delete"))
        self.Exit_btn.setText(_translate("Form", "Exit"))
        self.Save_btn.clicked.connect(self.Save_Data)

    def Save_Data(self):
        FarmerCode=self.F_code_txt.text()
        Name=self.Name_ltxt.text()
        Address=self.Address_txt.text()
        PhoneNo=self.PhNo_txt.text()
        Relation=self.Relation_txt.text()
        conn = sqlite3.connect('D:\Internship\ERP_Info\ERP_Info.db')
        cur = conn.cursor()
        cur.execute('INSERT INTO NomineeInfoDB (FarmerCode,Name,Address,PhoneNo,Relation) \
                                                            VALUES (?,?,?,?,?)',
                    (FarmerCode,Name,Address,PhoneNo,Relation))

        conn.commit()
        print("Records Inserted successfully")
        conn.close()
        self.View_data()

    def View_data(self):
            conn = sqlite3.connect('D:\Internship\ERP_Info\ERP_Info.db')
            cur = conn.cursor()

            cur.execute('select Name from NomineeIfoDB')
            hu = cur.fetchall()
            self.listView.clear()
            for i in range(len(hu)):
                    item = QtWidgets.QListWidgetItem(hu[i][0])
                    self.listView.addItem(item)

            conn.commit()
            print("Records Displayed successfully")
            conn.close()


if __name__=="__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    widget = QtWidgets.QWidget()
    ui = Ui_Form()
    ui.setupUi(widget)
    widget.show()
    sys.exit(app.exec_())