# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'Route.ui'
#
# Created by: PyQt5 UI code generator 5.15.1
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.
import sqlite3

from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtWidgets import QMessageBox


class Ui_Form(object):
    def setupUi(self, Form):
        Form.setObjectName("Form")
        Form.resize(600, 300)
        Form.setMaximumSize(QtCore.QSize(600, 300))
        Form.setSizeIncrement(QtCore.QSize(100, 0))
        self.frame = QtWidgets.QFrame(Form)
        self.frame.setGeometry(QtCore.QRect(0, 0, 600, 300))
        font = QtGui.QFont()
        font.setPointSize(12)
        self.frame.setFont(font)
        self.frame.setStyleSheet("background-color:#FFEECC")
        self.frame.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.frame.setFrameShadow(QtWidgets.QFrame.Raised)
        self.frame.setObjectName("frame")
        self.Route_info = QtWidgets.QGroupBox(self.frame)
        self.Route_info.setGeometry(QtCore.QRect(50, 90, 301, 101))
        font = QtGui.QFont()
        font.setPointSize(11)
        font.setBold(True)
        font.setWeight(75)
        self.Route_info.setFont(font)
        self.Route_info.setStyleSheet("QGroupBox{border:2px solid Black;};")
        self.Route_info.setTitle("")
        self.Route_info.setAlignment(QtCore.Qt.AlignCenter)
        self.Route_info.setObjectName("Route_info")
        self.Code = QtWidgets.QLabel(self.Route_info)
        self.Code.setGeometry(QtCore.QRect(80, 30, 47, 13))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Code.setFont(font)
        self.Code.setObjectName("Code")
        self.Name = QtWidgets.QLabel(self.Route_info)
        self.Name.setGeometry(QtCore.QRect(190, 30, 47, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Name.setFont(font)
        self.Name.setObjectName("Name")
        self.Route = QtWidgets.QLabel(self.Route_info)
        self.Route.setGeometry(QtCore.QRect(10, 50, 47, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Route.setFont(font)
        self.Route.setObjectName("Route")
        self.LE_Code = QtWidgets.QLineEdit(self.Route_info)
        self.LE_Code.setEnabled(False)
        self.LE_Code.setGeometry(QtCore.QRect(60, 50, 71, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.LE_Code.setFont(font)
        self.LE_Code.setStyleSheet("background-color:rgb(255, 255, 255)")
        self.LE_Code.setObjectName("LE_Code")
        self.LE_Name = QtWidgets.QLineEdit(self.Route_info)
        self.LE_Name.setEnabled(False)
        self.LE_Name.setGeometry(QtCore.QRect(140, 50, 141, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.LE_Name.setFont(font)
        self.LE_Name.setStyleSheet("background-color:rgb(255, 255, 255)")
        self.LE_Name.setObjectName("LE_Name")
        self.Exit_btn_2 = QtWidgets.QPushButton(self.frame)
        self.Exit_btn_2.setGeometry(QtCore.QRect(600, 280, 51, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Exit_btn_2.setFont(font)
        self.Exit_btn_2.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.Exit_btn_2.setObjectName("Exit_btn_2")
        self.View_grid_btn_2 = QtWidgets.QPushButton(self.frame)
        self.View_grid_btn_2.setGeometry(QtCore.QRect(720, 310, 75, 23))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.View_grid_btn_2.setFont(font)
        self.View_grid_btn_2.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.View_grid_btn_2.setObjectName("View_grid_btn_2")
        self.List_2 = QtWidgets.QLabel(self.frame)
        self.List_2.setGeometry(QtCore.QRect(740, 70, 31, 20))
        font = QtGui.QFont()
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.List_2.setFont(font)
        self.List_2.setObjectName("List_2")
        self.listWidget_name_2 = QtWidgets.QListWidget(self.frame)
        self.listWidget_name_2.setGeometry(QtCore.QRect(690, 100, 141, 201))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.listWidget_name_2.setFont(font)
        self.listWidget_name_2.setObjectName("listWidget_name_2")
        self.listWidget_name = QtWidgets.QListWidget(self.frame)
        self.listWidget_name.setGeometry(QtCore.QRect(410, 50, 161, 231))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.listWidget_name.setFont(font)
        self.listWidget_name.setStyleSheet("background-color:rgb(255, 255, 255)")
        self.listWidget_name.setObjectName("listWidget_name")
        self.List_lable = QtWidgets.QLabel(self.frame)
        self.List_lable.setGeometry(QtCore.QRect(410, 10, 161, 20))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.List_lable.setFont(font)
        self.List_lable.setStyleSheet("QLabel { border: 1px solid Black;};")
        self.List_lable.setAlignment(QtCore.Qt.AlignCenter)
        self.List_lable.setObjectName("List_lable")
        self.LE_Search = QtWidgets.QLineEdit(self.frame)
        self.LE_Search.setGeometry(QtCore.QRect(410, 30, 161, 20))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.LE_Search.setFont(font)
        self.LE_Search.setStyleSheet("background-color: rgb(184, 212, 255);")
        self.LE_Search.setObjectName("LE_Search")
        self.btnExit = QtWidgets.QPushButton(self.frame)
        self.btnExit.setGeometry(QtCore.QRect(330, 210, 51, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.btnExit.setFont(font)
        self.btnExit.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.btnExit.setObjectName("btnExit")
        self.btnModify = QtWidgets.QPushButton(self.frame)
        self.btnModify.setGeometry(QtCore.QRect(100, 210, 61, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.btnModify.setFont(font)
        self.btnModify.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.btnModify.setObjectName("btnModify")
        self.btnAdd = QtWidgets.QPushButton(self.frame)
        self.btnAdd.setGeometry(QtCore.QRect(20, 210, 59, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.btnAdd.setFont(font)
        self.btnAdd.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.btnAdd.setObjectName("btnAdd")
        self.btnSave = QtWidgets.QPushButton(self.frame)
        self.btnSave.setGeometry(QtCore.QRect(180, 210, 51, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.btnSave.setFont(font)
        self.btnSave.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.btnSave.setObjectName("btnSave")
        self.btnDelete = QtWidgets.QPushButton(self.frame)
        self.btnDelete.setGeometry(QtCore.QRect(250, 210, 61, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.btnDelete.setFont(font)
        self.btnDelete.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.btnDelete.setObjectName("btnDelete")
        self.label = QtWidgets.QLabel(self.frame)
        self.label.setGeometry(QtCore.QRect(100, 30, 181, 20))
        font = QtGui.QFont()
        font.setPointSize(15)
        font.setBold(True)
        font.setWeight(75)
        self.label.setFont(font)
        self.label.setStyleSheet("color:rgb(85, 0, 0)")
        self.label.setAlignment(QtCore.Qt.AlignCenter)
        self.label.setObjectName("label")
        self.Exit_btn_3 = QtWidgets.QPushButton(Form)
        self.Exit_btn_3.setGeometry(QtCore.QRect(610, 330, 51, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Exit_btn_3.setFont(font)
        self.Exit_btn_3.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.Exit_btn_3.setObjectName("Exit_btn_3")
        self.View_grid_btn_3 = QtWidgets.QPushButton(Form)
        self.View_grid_btn_3.setGeometry(QtCore.QRect(730, 360, 75, 23))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.View_grid_btn_3.setFont(font)
        self.View_grid_btn_3.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.View_grid_btn_3.setObjectName("View_grid_btn_3")
        self.Modify_btn_3 = QtWidgets.QPushButton(Form)
        self.Modify_btn_3.setGeometry(QtCore.QRect(424, 330, 61, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Modify_btn_3.setFont(font)
        self.Modify_btn_3.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.Modify_btn_3.setObjectName("Modify_btn_3")
        self.List_3 = QtWidgets.QLabel(Form)
        self.List_3.setGeometry(QtCore.QRect(750, 120, 31, 20))
        font = QtGui.QFont()
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.List_3.setFont(font)
        self.List_3.setObjectName("List_3")
        self.Save_btn_3 = QtWidgets.QPushButton(Form)
        self.Save_btn_3.setGeometry(QtCore.QRect(490, 330, 51, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Save_btn_3.setFont(font)
        self.Save_btn_3.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.Save_btn_3.setObjectName("Save_btn_3")
        self.add_btn_3 = QtWidgets.QPushButton(Form)
        self.add_btn_3.setGeometry(QtCore.QRect(360, 330, 59, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.add_btn_3.setFont(font)
        self.add_btn_3.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.add_btn_3.setObjectName("add_btn_3")
        self.listWidget_name_3 = QtWidgets.QListWidget(Form)
        self.listWidget_name_3.setGeometry(QtCore.QRect(700, 150, 141, 201))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.listWidget_name_3.setFont(font)
        self.listWidget_name_3.setObjectName("listWidget_name_3")
        self.Delete_btn_3 = QtWidgets.QPushButton(Form)
        self.Delete_btn_3.setGeometry(QtCore.QRect(546, 330, 61, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Delete_btn_3.setFont(font)
        self.Delete_btn_3.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.Delete_btn_3.setObjectName("Delete_btn_3")
        self.Exit_btn_4 = QtWidgets.QPushButton(Form)
        self.Exit_btn_4.setGeometry(QtCore.QRect(610, 330, 51, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Exit_btn_4.setFont(font)
        self.Exit_btn_4.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.Exit_btn_4.setObjectName("Exit_btn_4")
        self.View_grid_btn_4 = QtWidgets.QPushButton(Form)
        self.View_grid_btn_4.setGeometry(QtCore.QRect(730, 360, 75, 23))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.View_grid_btn_4.setFont(font)
        self.View_grid_btn_4.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.View_grid_btn_4.setObjectName("View_grid_btn_4")
        self.Modify_btn_4 = QtWidgets.QPushButton(Form)
        self.Modify_btn_4.setGeometry(QtCore.QRect(424, 330, 61, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Modify_btn_4.setFont(font)
        self.Modify_btn_4.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.Modify_btn_4.setObjectName("Modify_btn_4")
        self.List_4 = QtWidgets.QLabel(Form)
        self.List_4.setGeometry(QtCore.QRect(750, 120, 31, 20))
        font = QtGui.QFont()
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.List_4.setFont(font)
        self.List_4.setObjectName("List_4")
        self.Save_btn_4 = QtWidgets.QPushButton(Form)
        self.Save_btn_4.setGeometry(QtCore.QRect(490, 330, 51, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Save_btn_4.setFont(font)
        self.Save_btn_4.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.Save_btn_4.setObjectName("Save_btn_4")
        self.add_btn_4 = QtWidgets.QPushButton(Form)
        self.add_btn_4.setGeometry(QtCore.QRect(360, 330, 59, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.add_btn_4.setFont(font)
        self.add_btn_4.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.add_btn_4.setObjectName("add_btn_4")
        self.listWidget_name_4 = QtWidgets.QListWidget(Form)
        self.listWidget_name_4.setGeometry(QtCore.QRect(700, 150, 141, 201))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.listWidget_name_4.setFont(font)
        self.listWidget_name_4.setObjectName("listWidget_name_4")
        self.Delete_btn_4 = QtWidgets.QPushButton(Form)
        self.Delete_btn_4.setGeometry(QtCore.QRect(546, 330, 61, 24))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Delete_btn_4.setFont(font)
        self.Delete_btn_4.setStyleSheet("background-color: rgb(169, 255, 198);")
        self.Delete_btn_4.setObjectName("Delete_btn_4")

        self.retranslateUi(Form)
        QtCore.QMetaObject.connectSlotsByName(Form)
        self.View_data()

    def retranslateUi(self, Form):
        _translate = QtCore.QCoreApplication.translate
        Form.setWindowTitle(_translate("Form", "RoutInfo"))
        self.Code.setText(_translate("Form", "Code"))
        self.Name.setText(_translate("Form", "Name"))
        self.Route.setText(_translate("Form", "Route"))
        self.LE_Code.setPlaceholderText(_translate("Form", "Code"))
        self.LE_Name.setPlaceholderText(_translate("Form", "Route Name"))
        self.Exit_btn_2.setText(_translate("Form", "Exit"))
        self.View_grid_btn_2.setText(_translate("Form", "View Grid"))
        self.List_2.setText(_translate("Form", "List"))
        self.List_lable.setText(_translate("Form", "List"))
        self.LE_Search.setPlaceholderText(_translate("Form", "Search"))
        self.btnExit.setText(_translate("Form", "Exit"))
        self.btnModify.setText(_translate("Form", "Modify"))
        self.btnAdd.setText(_translate("Form", "Add"))
        self.btnSave.setText(_translate("Form", "Save"))
        self.btnDelete.setText(_translate("Form", "Delete"))
        self.label.setText(_translate("Form", "Route Info"))
        self.Exit_btn_3.setText(_translate("Form", "Exit"))
        self.View_grid_btn_3.setText(_translate("Form", "View Grid"))
        self.Modify_btn_3.setText(_translate("Form", "Modify"))
        self.List_3.setText(_translate("Form", "List"))
        self.Save_btn_3.setText(_translate("Form", "Save"))
        self.add_btn_3.setText(_translate("Form", "Add"))
        self.Delete_btn_3.setText(_translate("Form", "Delete"))
        self.Exit_btn_4.setText(_translate("Form", "Exit"))
        self.View_grid_btn_4.setText(_translate("Form", "View Grid"))
        self.Modify_btn_4.setText(_translate("Form", "Modify"))
        self.List_4.setText(_translate("Form", "List"))
        self.Save_btn_4.setText(_translate("Form", "Save"))
        self.add_btn_4.setText(_translate("Form", "Add"))
        self.Delete_btn_4.setText(_translate("Form", "Delete"))

        self.listWidget_name.clicked.connect(self.selectionChanged)
        self.LE_Search.textChanged.connect(self.filterlist)
        self.btnDelete.clicked.connect(self.Delete_data)
        self.btnAdd.clicked.connect(self.add_data)
        self.btnSave.clicked.connect(self.save_data)
        self.btnModify.clicked.connect(self.Update_data)
        self.btnExit.clicked.connect(QtWidgets.qApp.quit)

    def selectionChanged(self):
        self.LE_Name.setEnabled(False)
        name = self.listWidget_name.currentItem()
        cname = (name.text())
        self.LE_Name.setText(name.text())
        conn = sqlite3.connect('D:\Internship\ERP_Info\ERP_Info.db')
        cur = conn.cursor()
        cur.execute("SELECT Code FROM RouteDB WHERE Name=?", (cname,))
        result = cur.fetchone()
        # print(result)
        # print(type(result))
        res = int(''.join(map(str, result)))
        self.LE_Code.setText(str(res))
        conn.commit()
        # print("Code Displayed successfully")
        conn.close()

    def filterlist(self):
        self.listWidget_name.clear()

    def add_data(self):
        self.LE_Name.setEnabled(True)
        self.LE_Name.setFocus()
        lastcode = self.listWidget_name.count()
        code = lastcode + 1
        print(code)
        self.LE_Code.setText(str(code))

    def save_data(self):
        LE_Code = self.LE_Code.text()
        LE_Name = self.LE_Name.text()
        if LE_Code == '' and LE_Name == '':
            # Create the dialog without running it yet
            msgBox = QMessageBox()

            # Set the various texts
            msgBox.setWindowTitle("Information")
            msgBox.setText(
                "No entry '" + str(LE_Code) + " " + str(LE_Name) + "'.Please enter Proper Name")
            msgBox.setStandardButtons(QMessageBox.Yes | QMessageBox.No)
            msgBox.setDefaultButton(QMessageBox.No)

            # Run the dialog, and check results
            bttn = msgBox.exec_()
            if bttn == QMessageBox.Yes:
                return True
            else:
                return False
        else:
            code = self.listWidget_name.count()
            if code == 0:
                code = 1
            else:
                code = code + 1
            self.LE_Code.setText(str(code))
            conn = sqlite3.connect('D:\Internship\ERP_Info\ERP_Info.db')
            cur = conn.cursor()
            cur.execute('INSERT INTO RouteDB (Code,Name) \
                                                           VALUES (?,?)', (code, LE_Name))

            conn.commit()
            print("Records Inserted successfully")
            conn.close()
            self.View_data()
            self.LE_Name.clear()
            self.LE_Name.setFocus()

    def View_data(self):
        conn = sqlite3.connect('D:\Internship\ERP_Info\ERP_Info.db')
        cur = conn.cursor()
        cur.execute('select Name from RouteDB')
        hu = cur.fetchall()
        self.listWidget_name.clear()
        for i in range(len(hu)):
            item = QtWidgets.QListWidgetItem(hu[i][0])
            self.listWidget_name.addItem(item)

        conn.commit()
        print("Records Displayed successfully")
        conn.close()

    def Update_data(self):
        self.LE_Name.setEnabled(True)
        LE_Code = self.LE_Code.text()
        LE_Name = self.LE_Name.text()
        conn = sqlite3.connect('D:\Internship\ERP_Info\ERP_Info.db')
        cur = conn.cursor()
        cur.execute("UPDATE RouteDB SET Name = ? WHERE Code = ?", (LE_Name, LE_Code))
        conn.commit()
        print("Records Modify successfully")
        conn.close()
        self.View_data()

    def Delete_data(self):
        LE_Code = self.LE_Code.text()
        conn = sqlite3.connect('D:\Internship\ERP_Info\ERP_Info.db')
        cur = conn.cursor()
        cur.execute("DELETE FROM RouteDB WHERE Code=?", (LE_Code))
        conn.commit()
        print("Records Deleted successfully")
        conn.close()
        self.LE_Code.clear()
        self.LE_Name.clear()
        self.View_data()



if __name__ == "__main__":
    import sys

    app = QtWidgets.QApplication(sys.argv)
    widget = QtWidgets.QWidget()
    ui = Ui_Form()
    ui.setupUi(widget)
    widget.show()
    sys.exit(app.exec_())